import { Peer, WSError } from 'crossws';
import { Context, type AnyElysia } from 'elysia';
import { ElysiaTypeCheck } from 'elysia/schema';
import { ElysiaWS } from 'elysia/ws';
import type { ServerWebSocket } from 'elysia/ws/bun';
import type { AnyWSLocalHook } from 'elysia/ws/types';
export interface NodeWebSocketContext {
    data: Context;
    validateResponse: ElysiaTypeCheck<any> | undefined;
    ping: ElysiaWS['ping'];
    pong: ElysiaWS['pong'];
    open(ws: Peer): Promise<void>;
    message(ws: ServerWebSocket<any>, message: string): Promise<void>;
    drain(ws: ServerWebSocket<any>): Promise<void>;
    close(ws: ServerWebSocket<any>, code: number, reason: string): Promise<void>;
    error(ws: ServerWebSocket<any>, error: WSError): void;
}
export interface NodeWebSocketPeer extends Omit<Peer, 'context'> {
    context: NodeWebSocketContext;
}
export declare function createWebSocketAdapter(): {
    handler: (app: AnyElysia, path: string, options: AnyWSLocalHook) => void;
    context: Record<string, NodeWebSocketContext>;
};
